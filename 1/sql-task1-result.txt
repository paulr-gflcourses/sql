MySQL до добавления индексов:



mysql> SELECT * FROM task1 WHERE id=900000;
+--------+------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| id     | name                                                                                                 | descr                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
+--------+------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 900000 | yPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQC | yPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQC |
+--------+------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (6.28 sec)

mysql> SHOW SESSION STATUS
    -> LIKE 'Last_query_cost';
+-----------------+---------------+
| Variable_name   | Value         |
+-----------------+---------------+
| Last_query_cost | 227465.999000 |
+-----------------+---------------+
1 row in set (0.00 sec)

mysql> EXPLAIN
    -> SELECT * FROM task1 WHERE id=900000;
+----+-------------+-------+------------+------+---------------+------+---------+------+--------+----------+-------------+
| id | select_type | table | partitions | type | possible_keys | key  | key_len | ref  | rows   | filtered | Extra       |
+----+-------------+-------+------------+------+---------------+------+---------+------+--------+----------+-------------+
|  1 | SIMPLE      | task1 | NULL       | ALL  | NULL          | NULL | NULL    | NULL | 935730 |    10.00 | Using where |
+----+-------------+-------+------------+------+---------------+------+---------+------+--------+----------+-------------+
1 row in set, 1 warning (0.00 sec)



mysql> SELECT * FROM task1 WHERE name='yPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQC';
+--------+------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| id     | name                                                                                                 | descr                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
+--------+------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 900000 | yPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQC | yPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQC |
+--------+------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (8.54 sec)

mysql> SHOW SESSION STATUS  LIKE 'Last_query_cost';
+-----------------+---------------+
| Variable_name   | Value         |
+-----------------+---------------+
| Last_query_cost | 227465.999000 |
+-----------------+---------------+
1 row in set (0.00 sec)

mysql> EXPLAIN
    -> SELECT * FROM task1 WHERE name='yPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQC';
+----+-------------+-------+------------+------+---------------+------+---------+------+--------+----------+-------------+
| id | select_type | table | partitions | type | possible_keys | key  | key_len | ref  | rows   | filtered | Extra       |
+----+-------------+-------+------------+------+---------------+------+---------+------+--------+----------+-------------+
|  1 | SIMPLE      | task1 | NULL       | ALL  | NULL          | NULL | NULL    | NULL | 935730 |    10.00 | Using where |
+----+-------------+-------+------------+------+---------------+------+---------+------+--------+----------+-------------+
1 row in set, 1 warning (0.00 sec)




mysql> SELECT * FROM task1 WHERE descr='yPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQC';
+--------+------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| id     | name                                                                                                 | descr                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
+--------+------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 900000 | yPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQC | yPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQC |
+--------+------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (6.54 sec)

mysql> SHOW SESSION STATUS  LIKE 'Last_query_cost';                             +-----------------+---------------+
| Variable_name   | Value         |
+-----------------+---------------+
| Last_query_cost | 227465.999000 |
+-----------------+---------------+
1 row in set (0.00 sec)

mysql> EXPLAIN
    -> SELECT * FROM task1 WHERE descr='yPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQC';
+----+-------------+-------+------------+------+---------------+------+---------+------+--------+----------+-------------+
| id | select_type | table | partitions | type | possible_keys | key  | key_len | ref  | rows   | filtered | Extra       |
+----+-------------+-------+------------+------+---------------+------+---------+------+--------+----------+-------------+
|  1 | SIMPLE      | task1 | NULL       | ALL  | NULL          | NULL | NULL    | NULL | 935730 |    10.00 | Using where |
+----+-------------+-------+------------+------+---------------+------+---------+------+--------+----------+-------------+
1 row in set, 1 warning (0.00 sec)



MySQL После добавления индексов:

mysql> CREATE INDEX id ON task1(id);
Query OK, 0 rows affected (17.62 sec)
Records: 0  Duplicates: 0  Warnings: 0





mysql> SELECT * FROM task1 WHERE id=900000;
+--------+------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| id     | name                                                                                                 | descr                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
+--------+------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 900000 | yPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQC | yPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQC |
+--------+------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.01 sec)

mysql> SHOW SESSION STATUS  LIKE 'Last_query_cost';                             +-----------------+----------+
| Variable_name   | Value    |
+-----------------+----------+
| Last_query_cost | 1.199000 |
+-----------------+----------+
1 row in set (0.00 sec)

mysql> EXPLAIN
    -> SELECT * FROM task1 WHERE id=900000;
+----+-------------+-------+------------+------+---------------+------+---------+-------+------+----------+-------+
| id | select_type | table | partitions | type | possible_keys | key  | key_len | ref   | rows | filtered | Extra |
+----+-------------+-------+------------+------+---------------+------+---------+-------+------+----------+-------+
|  1 | SIMPLE      | task1 | NULL       | ref  | id            | id   | 5       | const |    1 |   100.00 | NULL  |
+----+-------------+-------+------------+------+---------------+------+---------+-------+------+----------+-------+
1 row in set, 1 warning (0.00 sec)



mysql> SELECT * FROM task1 WHERE name='yPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQC';
+--------+------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| id     | name                                                                                                 | descr                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
+--------+------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 900000 | yPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQC | yPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQC |
+--------+------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (5.90 sec)

mysql> SHOW SESSION STATUS  LIKE 'Last_query_cost';
+-----------------+---------------+
| Variable_name   | Value         |
+-----------------+---------------+
| Last_query_cost | 227465.999000 |
+-----------------+---------------+
1 row in set (0.01 sec)

mysql> EXPLAIN
    -> SELECT * FROM task1 WHERE name='yPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQC';
+----+-------------+-------+------------+------+---------------+------+---------+------+--------+----------+-------------+
| id | select_type | table | partitions | type | possible_keys | key  | key_len | ref  | rows   | filtered | Extra       |
+----+-------------+-------+------------+------+---------------+------+---------+------+--------+----------+-------------+
|  1 | SIMPLE      | task1 | NULL       | ALL  | NULL          | NULL | NULL    | NULL | 935730 |    10.00 | Using where |
+----+-------------+-------+------------+------+---------------+------+---------+------+--------+----------+-------------+
1 row in set, 1 warning (0.00 sec)




mysql> SELECT * FROM task1 WHERE descr='yPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQC';
+--------+------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| id     | name                                                                                                 | descr                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
+--------+------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 900000 | yPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQC | yPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQC |
+--------+------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (5.86 sec)

mysql> SHOW SESSION STATUS  LIKE 'Last_query_cost';
+-----------------+---------------+
| Variable_name   | Value         |
+-----------------+---------------+
| Last_query_cost | 227465.999000 |
+-----------------+---------------+
1 row in set (0.00 sec)

mysql> EXPLAIN
    -> SELECT * FROM task1 WHERE descr='yPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQCyPqBL1LTpzvjFXSM45868sh0MnDdo5gXUHyFIkz7T4rz2kl6pudyXuzJRcXgidecUMSD6rK0vcAxwWEWrRuom38eg5uyiJLdvEQC';
+----+-------------+-------+------------+------+---------------+------+---------+------+--------+----------+-------------+
| id | select_type | table | partitions | type | possible_keys | key  | key_len | ref  | rows   | filtered | Extra       |
+----+-------------+-------+------------+------+---------------+------+---------+------+--------+----------+-------------+
|  1 | SIMPLE      | task1 | NULL       | ALL  | NULL          | NULL | NULL    | NULL | 935730 |    10.00 | Using where |
+----+-------------+-------+------------+------+---------------+------+---------+------+--------+----------+-------------+
1 row in set, 1 warning (0.00 sec)




PostgreSQL до добавления индексов:





user12=> SELECT * FROM task1 WHERE id=900000;
   id   |                                                 name
                               |


                                        descr



--------+-----------------------------------------------------------------------
-------------------------------+------------------------------------------------
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
------------------------------------------------------
 900000 | rT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn
9IVAsLhMaQuYWaXnfQREyujw9kttio | rT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGj
pzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3
iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0
nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnf
QREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1Wk
XVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGj
pzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttio
(1 row)

user12=> EXPLAIN
user12-> SELECT * FROM task1 WHERE id=900000;
                        QUERY PLAN
-----------------------------------------------------------
 Seq Scan on task1  (cost=0.00..95836.29 rows=1 width=609)
   Filter: (id = 900000)
(2 rows)




user12=> SELECT * FROM task1 WHERE name='rT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttio';
   id   |                                                 name                                                 |

                                              descr

--------+------------------------------------------------------------------------------------------------------+---------------------------------------------
-------------------------------------------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------------------------------
 900000 | rT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttio | rT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrK
PGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttior
T5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5Tu
oHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttio
(1 row)

user12=> EXPLAIN
user12-> SELECT * FROM task1 WHERE name='rT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttio';
                                                               QUERY PLAN
-----------------------------------------------------------------------------------------------------------------------------------------
 Seq Scan on task1  (cost=0.00..95836.29 rows=1 width=609)
   Filter: ((name)::text = 'rT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttio'::text)
(2 rows)



user12=> SELECT * FROM task1 WHERE descr='rT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttio';
   id   |                                                 name                                                 |

                                              descr

--------+------------------------------------------------------------------------------------------------------+---------------------------------------------
-------------------------------------------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------------------------------
 900000 | rT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttio | rT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrK
PGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttior
T5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5Tu
oHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttio
(1 row)

user12=> EXPLAIN
user12-> SELECT * FROM task1 WHERE descr='rT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttio';

                                                                                                           QUERY PLAN


-------------------------------------------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------
 Seq Scan on task1  (cost=0.00..95836.29 rows=1 width=609)
   Filter: ((descr)::text = 'rT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3i
O8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaX
nfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNy
rKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttio'::text)
(2 rows)




PostgreSQL после добавления индексов:


user12=> CREATE INDEX id ON task1(id);
CREATE INDEX
user12=> CREATE INDEX name ON task1(name);
CREATE INDEX
user12=> CREATE INDEX descr ON task1(descr);
CREATE INDEX




user12=> SELECT * FROM task1 WHERE id=900000;
   id   |                                                 name                                                 |

                                              descr

--------+------------------------------------------------------------------------------------------------------+---------------------------------------------
-------------------------------------------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------------------------------
 900000 | rT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttio | rT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrK
PGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttior
T5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5Tu
oHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttio
(1 row)

user12=> EXPLAIN
user12-> SELECT * FROM task1 WHERE id=900000;
                            QUERY PLAN
------------------------------------------------------------------
 Index Scan using id on task1  (cost=0.42..8.44 rows=1 width=609)
   Index Cond: (id = 900000)
(2 rows)

user12=> SELECT * FROM task1 WHERE name='rT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttio';
   id   |                                                 name                                                 |

                                              descr

--------+------------------------------------------------------------------------------------------------------+---------------------------------------------
-------------------------------------------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------------------------------
 900000 | rT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttio | rT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrK
PGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttior
T5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5Tu
oHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttio
(1 row)

user12=> EXPLAIN
user12-> SELECT * FROM task1 WHERE name='rT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttio';
                                                                 QUERY PLAN
---------------------------------------------------------------------------------------------------------------------------------------------
 Index Scan using name on task1  (cost=0.55..8.57 rows=1 width=609)
   Index Cond: ((name)::text = 'rT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttio'::text)
(2 rows)

user12=> SELECT * FROM task1 WHERE descr='rT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttio';
   id   |                                                 name                                                 |

                                              descr

--------+------------------------------------------------------------------------------------------------------+---------------------------------------------
-------------------------------------------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------------------------------
 900000 | rT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttio | rT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrK
PGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttior
T5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5Tu
oHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttio
(1 row)

user12=> EXPLAIN
user12-> SELECT * FROM task1 WHERE descr='rT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttio';

                                                                                                             QUERY PLAN


-------------------------------------------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------
 Index Scan using descr on task1  (cost=0.80..8.82 rows=1 width=609)
   Index Cond: ((descr)::text = 'rT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXaj
qV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQu
YWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttiorT5ICA0nfOvfXgfzASooxXajqV3iO8gg2mYEWY
2bNyrKPGjpzIN6FYq5TuoHCFYF1WkXVn9IVAsLhMaQuYWaXnfQREyujw9kttio'::text)
(2 rows)




